<?xml version='1.0' encoding='utf-8'?>

<odoo>
    <data>

        <!-- pos.order.entry -->
        <record id="pos_order_entry_view_tree" model="ir.ui.view">
            <field name="name">pos.order.entry.view.tree</field>
            <field name="model">pos.order.entry</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="numero_venda" />
                    <field name="cliente_nome" />
                    <field name="cliente_cnpj_cpf" />
                    <field name="create_date" />
                    <field name="state" />
                </tree>
            </field>
        </record>

        <!-- pos.order.entry -->
        <record id="pos_order_entry_view_form" model="ir.ui.view">
            <field name="name">pos.order.entry.view.form</field>
            <field name="model">pos.order.entry</field>
            <field name="arch" type="xml">
                <form string="Requisição" create="false">

                    <header>
                        <button name="action_back_to_draft" type="object" string="Habilitar Edição" states="open,error" class="oe_highlight"/>
                        <button name="action_confirm" type="object" string="Confirmar" states="draft" class="oe_highlight"/>
                        <button name="action_convert_to_pos_order" type="object" string="Gerar pedido POS" states="open" class="oe_highlight" confirm="Deseja converter em pedido do POS?"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,open,done" />
                    </header>

                    <sheet>
                        <group>
                            <group string="Cliente" name="partner_info">
                                <field name="cliente_nome" string="Nome"/>
                                <field name="cliente_cnpj_cpf" string="CNPJ/CPF"/>
                                <field name="cliente_endereco" string="Endereço"/>

                                <field name="pos_order_id"/>
                            </group>
                            <group string="Venda" name="sale_info">
                                <field name="numero_venda" string="Numero"/>
                                <field name="valor_venda" string="Valor (R$)"/>
                                <field name="valor_desconto" string="Desconto (R$)"/>
                                <field name="valor_liquido" string="Total Liquido (R$)"/>
                                <field name="tipo_pag_pdv"/>
                            </group>
                        </group>
                        <notebook>
                            <page name="itens" string="Itens">
                                <field name="pos_order_entry_line_ids">
                                    <tree create="false">
                                        <field name="codigo_produto"/>
                                        <field name="nome_produto"/>
                                        <field name="quantidade"/>
                                        <field name="preco" string="Preço (R$)"/>
                                        <field name="desconto" string="Desconto (R$)"/>
                                        <field name="total_liquido" string="Total Liquido (R$)"/>
                                        <field name="pos_order_entry_id" invisible="1"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="info" string="Info">
                                <group>
                                    <field name="config_guid"/>
                                    <field name="session_guid"/>
                                </group>
                                <group>
                                    <group>
                                        <field name="create_date"/>
                                        <field name="create_uid"/>
                                    </group>
                                    <group>
                                        <field name="write_date"/>
                                        <field name="write_uid"/>
                                    </group>
                                </group>
                            </page>
                            <page name="events" string="Eventos">
                                <field name="pos_order_entry_event_ids">
                                    <tree>
                                        <field name="category"/>
                                        <field name="name"/>
                                        <field name="create_date"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- pos.order.entry action window -->
        <record id="pos_order_entry_action" model="ir.actions.act_window">
            <field name="name">POS Order Entry</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">pos.order.entry</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
        </record>

        <!-- This Menu Item must have a parent and an action -->
        <menuitem id="pos_order_entry_menu_act" name="Requisições" parent="point_of_sale.menu_point_of_sale" action="pos_order_entry_action" />

    </data>
</odoo>